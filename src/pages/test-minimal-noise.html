<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src =
          "https://www.googletagmanager.com/gtm.js?id=" +
          i +
          dl +
          "&gtm_auth=ABC123&gtm_preview=env-1";
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-XXXXXXX");
    </script>
    <!-- End Google Tag Manager -->

    <!-- Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=GA-XXXXXXXX"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "GA-XXXXXXXX");
    </script>

    <!-- Facebook Pixel -->
    <script>
      !(function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod
            ? n.callMethod.apply(n, arguments)
            : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = "2.0";
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(
        window,
        document,
        "script",
        "https://connect.facebook.net/en_US/fbevents.js"
      );
      fbq("init", "1234567890123456");
      fbq("track", "PageView");
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Minimal Noise Test - TTS Highlighting</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      .content {
        background: #f5f5f5;
        padding: 15px;
        margin: 10px 0;
      }
      nav {
        background: #666;
        color: white;
        padding: 10px;
        margin-bottom: 10px;
      }
      .sidebar {
        background: #e0e0e0;
        padding: 10px;
        margin: 10px 0;
      }
      .ad {
        background: #ffcdd2;
        padding: 8px;
        margin: 5px 0;
      }
      .footer {
        background: #333;
        color: white;
        padding: 10px;
        margin-top: 20px;
      }
      .author-block {
        background: #e8f5e8;
        padding: 10px;
        margin: 10px 0;
        border-left: 3px solid #4caf50;
      }
      .engagement {
        background: #fff3e0;
        padding: 8px;
        margin: 5px 0;
      }
      .metadata {
        background: #f3e5f5;
        padding: 5px;
        margin: 5px 0;
        font-size: 0.9em;
        color: #666;
      }
      .interactions {
        background: #e1f5fe;
        padding: 10px;
        margin: 10px 0;
      }
      .tooltip {
        background: #ffecb3;
        padding: 5px;
        border: 1px solid #ffc107;
        display: inline-block;
      }
      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript class="tts-ignore gtm-noscript">
      <iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-XXXXXXX&gtm_auth=ABC123&gtm_preview=env-1"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
        id="tag-manager"
      ></iframe>
    </noscript>

    <!-- Facebook Pixel noscript -->
    <noscript class="tts-ignore">
      <img
        height="1"
        width="1"
        style="display: none"
        src="https://www.facebook.com/tr?id=1234567890123456&ev=PageView&noscript=1"
      />
    </noscript>

    <!-- Tracking divs that might contain data -->
    <div id="gtm-data-layer" style="display: none">
      GTM tracking data that should not be read: gtm.start, dataLayer.push,
      gtm_auth=ABC123
    </div>

    <div data-gtm-id="GTM-XXXXXXX" data-analytics="true" style="display: none">
      Hidden analytics data for conversion tracking and retargeting pixels.
    </div>

    <!-- Navigation noise -->
    <div>
      <a href="#home">Home</a> | <a href="#about">About</a> |
      <a href="#contact">Contact</a>
    </div>

    <!-- Sidebar noise -->
    <aside class="sidebar">
      <h3>Related Links</h3>
      <p>Check out our other articles and subscribe to our newsletter!</p>
    </aside>

    <!-- Author Block (should be filtered) -->
    <div class="author-block byline">
      <div class="author profile user-info">
        <img src="#" alt="Author" width="32" height="32" class="profile-pic" />
        <div>
          <span class="author-name writer">John Smith</span>
          <button class="follow-btn" aria-label="Follow author">Follow</button>
        </div>
      </div>
      <div class="metadata">
        <span class="published date timestamp">Published: March 15, 2024</span>
        <span class="read-time reading-time">3 min read</span>
        <span class="word-count">~500 words</span>
      </div>
    </div>

    <!-- Engagement/Interaction Widgets (should be filtered) -->
    <div class="engagement interactions">
      <button
        class="vote clap like"
        aria-label="clap"
        data-testid="clap-button"
      >
        üëè Clap
      </button>
      <button
        class="bookmark save"
        aria-label="bookmark"
        data-testid="bookmark-button"
      >
        üîñ Save
      </button>
      <button
        class="share social"
        aria-label="Share Post"
        data-testid="share-button"
      >
        üîó Share
      </button>
      <div class="tooltip" role="tooltip" aria-hidden="true">
        Share this article
      </div>
    </div>

    <!-- Advertisement noise -->
    <div class="ad advertisement">
      <strong>Special Offer!</strong> Click here for 50% off premium features!
    </div>

    <!-- More tracking/analytics content that should be filtered -->
    <div class="tracking-container" data-tracking="enabled">
      <script type="text/javascript">
        // This tracking script content should not be read
        ga("send", "event", "button", "click", "nav-button");
        gtag("config", "GA-XXXXXXXX", { page_title: "Test Page" });
      </script>
      <p>Ad by Google: sponsored content that should be filtered.</p>
    </div>

    <!-- Cookie consent banner -->
    <div
      class="cookie-banner consent-notice"
      style="position: fixed; bottom: 0"
    >
      <p>
        This site uses cookies to improve your experience. We use cookies to
        analyze website traffic and optimize your website experience.
      </p>
      <button class="accept-cookies">Accept all cookies</button>
      <a href="/privacy-policy">Privacy Policy</a>
    </div>

    <!-- Non-semantic obfuscated elements (like real-world sites) -->
    <div class="a b c" data-module="header-sticky">
      <div class="d e f">
        <span class="g h">Menu</span>
        <div class="i j k">
          <a href="/login" class="l m">Sign In</a>
          <a href="/register" class="n o">Sign Up</a>
        </div>
      </div>
    </div>

    <!-- Newsletter signup popup -->
    <div class="newsletter-popup subscribe-modal" id="email-capture">
      <div class="popup-content">
        <h3>Subscribe to our newsletter!</h3>
        <p>Get the latest updates and exclusive content.</p>
        <form class="email-form">
          <input
            type="email"
            placeholder="Enter your email"
            class="email-input"
          />
          <button type="submit" class="subscribe-btn">Subscribe</button>
        </form>
        <button class="close-popup" aria-label="Close popup">√ó</button>
      </div>
    </div>

    <!-- Search widget -->
    <div class="search-container search-box">
      <input
        type="search"
        placeholder="Search articles..."
        class="search-input"
      />
      <button class="search-btn" aria-label="Search">üîç</button>
      <div class="search-suggestions" style="display: none">
        <div class="suggestion">Popular searches</div>
      </div>
    </div>

    <!-- MAIN CONTENT - This should be highlighted -->
    <div>
      <h1>Simple Test Article</h1>
      <p>
        This is the first paragraph of actual content that should be highlighted
        correctly.
      </p>
      <p>
        This is the second paragraph. The highlighting should follow this text
        precisely without including navigation or ads.
      </p>
      <h2>Subheading</h2>
      <p>
        This is the third and final paragraph. If the fix
        <a href="" #>works</a>, highlighting should stay aligned with just this
        content.
      </p>
    </div>

    <!-- Complex interaction widget (should be filtered) -->
    <div class="pw-multi-vote engagement" data-dd-action-name="vote-widget">
      <div class="vote-arrows">
        <button class="upvote" aria-label="upvote">‚ñ≤</button>
        <span class="score">42</span>
        <button class="downvote" aria-label="downvote">‚ñº</button>
      </div>
    </div>

    <!-- More noise -->
    <div class="ad">
      <p>Another advertisement that should be filtered out of highlighting.</p>
    </div>

    <!-- Comments/Responses (should be filtered) -->
    <section class="comments responses discussion">
      <h3>User Comments</h3>
      <div class="comment user-content" data-testid="comment">
        <strong>User123:</strong> Great article! This comment should not be
        highlighted.
        <button class="like reaction" aria-label="like comment">‚ù§Ô∏è Like</button>
      </div>
      <div class="comment user-content">
        <strong>TechFan:</strong> Really helpful information.
        <button class="reply" aria-label="reply to comment">Reply</button>
      </div>
    </section>

    <!-- UI Elements (should be filtered) -->
    <div class="hidden" aria-hidden="true">
      Hidden content that should never be read.
    </div>

    <div class="modal popup overlay" style="display: none">
      <div class="modal-content">
        <p>Subscribe to our newsletter!</p>
        <button class="close">Close</button>
      </div>
    </div>

    <!-- More modern web app noise -->
    <div class="floating-actions">
      <button class="fab share-fab" aria-label="Share" title="Share">üì§</button>
      <button class="fab bookmark-fab" aria-label="Bookmark" title="Bookmark">
        üîñ
      </button>
      <button
        class="fab scroll-top"
        aria-label="Scroll to top"
        title="Back to top"
      >
        ‚¨ÜÔ∏è
      </button>
    </div>

    <!-- Breadcrumb navigation -->
    <nav class="breadcrumb breadcrumbs" aria-label="Breadcrumb">
      <ol class="breadcrumb-list">
        <li><a href="/">Home</a></li>
        <li><a href="/articles">Articles</a></li>
        <li aria-current="page">Current Article</li>
      </ol>
    </nav>

    <!-- Load more/pagination -->
    <div class="pagination pager">
      <button class="load-more-btn">Load More Articles</button>
      <div class="page-numbers">
        <a href="?page=1" class="page-link">1</a>
        <a href="?page=2" class="page-link current">2</a>
        <a href="?page=3" class="page-link">3</a>
      </div>
    </div>

    <!-- Social media follow widgets -->
    <div class="social-follow social-media">
      <h4>Follow us on:</h4>
      <div class="social-links social-icons">
        <a href="#" class="twitter-link" aria-label="Follow us on Twitter"
          >üê¶</a
        >
        <a href="#" class="facebook-link" aria-label="Follow us on Facebook"
          >üìò</a
        >
        <a href="#" class="linkedin-link" aria-label="Follow us on LinkedIn"
          >üíº</a
        >
        <a href="#" class="youtube-link" aria-label="Subscribe on YouTube"
          >üì∫</a
        >
      </div>
    </div>

    <!-- Newsletter signup (different style) -->
    <div class="newsletter newsletter-signup email-signup">
      <h3>Stay updated!</h3>
      <p>Subscribe to our newsletter for weekly updates.</p>
      <form class="newsletter-form">
        <input type="email" placeholder="Your email address" />
        <button type="submit">Subscribe</button>
      </form>
    </div>

    <!-- Footer noise -->
    <footer class="footer">
      <p>&copy; 2024 Test Site. Privacy Policy | Terms of Service</p>
    </footer>
  </body>
</html>
